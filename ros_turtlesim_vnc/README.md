# ROS2 TurtleSim —Å VNC –∏ Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç ROS2 TurtleSim —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–∞–∫ —á–µ—Ä–µ–∑ VNC-–∫–ª–∏–µ–Ω—Ç, —Ç–∞–∫ –∏ —á–µ—Ä–µ–∑ –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ROS2 Jazzy —Å TurtleSim
- VNC —Å–µ—Ä–≤–µ—Ä –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- NoVNC –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–ø–∞—Ö–æ–π
- –û–∫–æ–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä Fluxbox
- Volume mount –¥–ª—è `src/` - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `requirements.txt`

## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±: Docker Compose

```bash
# –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (—Å–±–æ—Ä–∫–∞ + –∑–∞–ø—É—Å–∫)
docker compose up -d --build

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker compose logs -f ros_turtlesim_vnc

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –≤ src/)
docker compose restart ros_turtlesim_vnc
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±: –æ–±—ã—á–Ω—ã–π Docker

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t ros2-jazzy-turtlesim-vnc .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 5901:5901 -p 6080:6080 ros2-jazzy-turtlesim-vnc
```

## –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

### –ß–µ—Ä–µ–∑ VNC –∫–ª–∏–µ–Ω—Ç
- **–ê–¥—Ä–µ—Å**: `localhost:5901`
- **–ü–∞—Ä–æ–ª—å**: `password`

### –ß–µ—Ä–µ–∑ –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä
- **URL**: `http://localhost:6080`
- **–ü–∞—Ä–æ–ª—å**: `password`

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

1. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è VNC —Å–µ—Ä–≤–µ—Ä
2. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è noVNC –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–∫–æ–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä Fluxbox
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è TurtleSim
5. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–ø–∞—Ö–æ–π

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é —Å –≤—ã–±–æ—Ä–æ–º –ø—Ä–æ–≥—Ä–∞–º–º:

### üéÆ –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:
1. **–ë–∞–∑–æ–≤–æ–µ –∫—Ä—É–≥–æ–≤–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ** (`main.py`) - –ø—Ä–æ—Å—Ç–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ø–æ –∫—Ä—É–≥—É
2. **–†–∏—Å–æ–≤–∞–Ω–∏–µ –∫–≤–∞–¥—Ä–∞—Ç–∞** (`square_demo.py`) - —Ü–≤–µ—Ç–Ω—ã–µ –∫–≤–∞–¥—Ä–∞—Ç—ã
3. **–°–ø–∏—Ä–∞–ª—å–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ** (`spiral_demo.py`) - —Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–µ —Å–ø–∏—Ä–∞–ª–∏
4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏—à–∞–º–∏** (`keyboard_demo.py`) - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WASD
5. **–¶–≤–µ—Ç–Ω–æ–µ —Ä–∏—Å–æ–≤–∞–Ω–∏–µ** (`colorful_demo.py`) - —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–∑–æ—Ä—ã

### üéõÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏:
- **s** - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É
- **r** - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å TurtleSim
- **c** - –û—á–∏—Å—Ç–∏—Ç—å —ç–∫—Ä–∞–Ω TurtleSim
- **t** - –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª ROS2
- **q** - –í—ã—Ö–æ–¥

### üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º:

#### –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º:
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π `.py` —Ñ–∞–π–ª –≤ `src/demo/`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞–∫ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö
3. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ –º–µ–Ω—é, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–≤ `menu.py`

#### –î–ª—è —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º (src/tasks/):
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π `.py` —Ñ–∞–π–ª –≤ `src/tasks/` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `topic_nadzor.py`)
2. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ docker-compose —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º
3. **‚ùó –í–∞–∂–Ω–æ**: ROS2 –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

   **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å–∫–∞:**
   ```bash
   # –° –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π ROS2 –æ–∫—Ä—É–∂–µ–Ω–∏—è
   docker compose exec ros_turtlesim_vnc bash -c "source /opt/ros/jazzy/setup.bash && python3 /ros_workspace/src/tasks/topic_nadzor.py"

   # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
   docker compose exec ros_turtlesim_vnc bash
   # –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
   source /opt/ros/jazzy/setup.bash
   python3 /ros_workspace/src/tasks/topic_nadzor.py
   ```

   **‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É `ImportError: No module named 'rclpy'`):**
   ```bash
   docker compose exec ros_turtlesim_vnc python3 /ros_workspace/src/tasks/topic_nadzor.py
   ```

4. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ**: –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### ‚úÖ –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- `src/tasks/topic_nadzor.py` - –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–µ–Ω—Å–æ—Ä–æ–≤
- `src/tasks/sensor_publisher.py` - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º

### Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ src/)
docker compose restart ros_turtlesim_vnc

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
docker compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker compose logs -f ros_turtlesim_vnc
```

### –û–±—ã—á–Ω—ã–π Docker
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Ctrl+C –∏–ª–∏)
docker stop <container_id>
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ volume –¥–ª—è src/
–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ docker-compose –ø–∞–ø–∫–∞ `src/` –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞
- ‚úÖ –ú–æ–∂–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ `src/tasks/` –∏ —Å—Ä–∞–∑—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

#### üöÄ –ó–∞–ø—É—Å–∫ ROS2 –ø—Ä–æ–≥—Ä–∞–º–º
```bash
# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker compose exec ros_turtlesim_vnc bash -c "source /opt/ros/jazzy/setup.bash && python3 /ros_workspace/src/tasks/topic_nadzor.py"

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
docker compose exec ros_turtlesim_vnc bash
# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ: source /opt/ros/jazzy/setup.bash
```

#### üîç –û—Ç–ª–∞–¥–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ROS2
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ ROS2 —É–∑–ª—ã
docker compose exec ros_turtlesim_vnc bash -c "source /opt/ros/jazzy/setup.bash && ros2 node list"

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–æ–ø–∏–∫–æ–≤
docker compose exec ros_turtlesim_vnc bash -c "source /opt/ros/jazzy/setup.bash && ros2 topic list"
docker compose exec ros_turtlesim_vnc bash -c "source /opt/ros/jazzy/setup.bash && ros2 topic echo /turtle1/pose"

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–ø–∏–∫–µ
docker compose exec ros_turtlesim_vnc bash -c "source /opt/ros/jazzy/setup.bash && ros2 topic info /sensor/light_sensor"

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ç–æ–ø–∏–∫
docker compose exec ros_turtlesim_vnc bash -c "source /opt/ros/jazzy/setup.bash && ros2 topic pub /sensor/light_sensor std_msgs/Float64 'data: 123.45'"
```

#### ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏
- **`ImportError: No module named 'rclpy'`** ‚Üí –ó–∞–±—ã–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `source /opt/ros/jazzy/setup.bash`
- **–¢–æ–ø–∏–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã** ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É–∑–ª—ã-–∏–∑–¥–∞—Ç–µ–ª–∏ –∑–∞–ø—É—â–µ–Ω—ã
- **–ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ** ‚Üí –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –∏–º–µ–Ω —Ç–æ–ø–∏–∫–æ–≤
- **IDE –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ ROS2** ‚Üí –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, ROS2 –ø–∞–∫–µ—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

#### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–≤ —Ñ–æ–Ω–µ)
docker compose exec -d ros_turtlesim_vnc bash -c "source /opt/ros/jazzy/setup.bash && python3 /ros_workspace/src/tasks/sensor_publisher.py"

# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É
docker compose exec ros_turtlesim_vnc bash -c "source /opt/ros/jazzy/setup.bash && python3 /ros_workspace/src/tasks/topic_nadzor.py"

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
docker compose exec ros_turtlesim_vnc pkill -f sensor_publisher
```